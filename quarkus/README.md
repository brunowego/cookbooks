# Quarkus (Quark.Us)

<!--
https://github.com/dasniko/quarkus-keycloak

https://github.com/brenomsf/api-contact/tree/master/src/main/java/br/com/fiap/contact
https://github.com/mandrenx/quarkus-agon/tree/master/src/main/java/io/oneo/agon/modules/telefone
https://github.com/JuMp3/demo-quarkus
https://github.com/quarkus-qe/beefy-scenarios
https://github.com/gabrielaigner/audally
https://github.com/Emirbz/espace_collaborative/tree/master/src/main/java/io/accretio

https://github.com/DouglasGo8/quarkus-native-apps

https://github.com/mph206/quarkus-course
https://github.com/lunatech-labs/lunatech-beginner-quarkus-course-student-app

https://blog.softwaremill.com/micronaut-vs-quarkus-whats-the-difference-5068f0da5390

https://www.youtube.com/watch?v=SQDR34KoC-8
https://www.youtube.com/watch?v=tWHdkpVagXA
https://www.youtube.com/watch?v=Us4gjBRJo1I
https://www.youtube.com/watch?v=9wJm8g83vqA

https://code.quarkus.io/
https://www.apress.com/br/book/9781484260319
https://leanpub.com/playing-with-java-microservices-with-quarkus-and-k8s
https://www.redhat.com/pt-br/about/videos/quarkus-basics-master-course
https://www.youtube.com/watch?v=OAxKGelBHRs
https://quarkus.io/quarkus-workshops/super-heroes/
https://www.oreilly.com/attend/getting-started-with-quarkus/0636920436416/0636920470021/
https://howtolearn.blog/quarkus/
https://www.katacoda.com/openshift/courses/middleware/middleware-quarkus
https://piotrminkowski.com/2021/04/14/advanced-graphql-with-quarkus/
https://blogs.oracle.com/developers/configuring-the-oracle-jdbc-drivers-with-quarkus
https://medium.com/@yazidaqel/quarkus-configuration-using-consul-d077dc6d5d3
https://www.amazon.com/Hands-Cloud-Native-Applications-Quarkus-Kubernetes-native-ebook/dp/B082FMCKJG/ref=sr_1_1?dchild=1&keywords=quarkus&qid=1586434790&sr=8-1

https://linkedin.com/pulse/jhipster-quarkus-demo-app-stephan-janssen/

https://www.udemy.com/course/des-web-quarkus/
https://www.udemy.com/course/quarkus-backend-development-java/
https://www.udemy.com/course/quarkus-starting-with-quarkus/
https://www.udemy.com/course/quarkus-com-panache-graalvm-gitlabci-e-aws/
https://www.udemy.com/course/microprofile-completo/
https://www.udemy.com/course/quarkus-com-mongodb/
https://www.udemy.com/course/quarkus-get-started/
-->

## Features

- Full Stack Java Framework: Web Applications, Web Services and Standalone Components.
- Kubernetes Native: Designed for a containerized world.
- Cloud Native:
  - Size, Efficiency and Extensions.
  - Serverless, Containerized, Virtual Machine Operations and 12 Factor Application Scope.
- Container first: Lower memory usage, faster startup times
- Imperative vs. Reactive
  - Combined into simple runtime
  - Single reactive engine used for both types
  - Allows developers to use either with same core
- Quarkus is natively compiled with GraalVM
- Quarkus is a implementation of Eclipse MicroProfile
- GraphQL First-class support (SmallRye)

## Related

- [Java](/java.md)
- [MicroProfile Starter](https://start.microprofile.io/)
- [Agroal](https://agroal.github.io/)
- [Books](https://quarkus.io/books/)

## Guides

- [Guides](https://quarkus.io/guides/)
- [All configuration options](https://quarkus.pro/guides/all-config.html)
- [Building applications with Maven](https://quarkus.io/guides/maven-tooling.html)
- [Creating Your First Application](https://quarkus.io/guides/getting-started)
- [Datasources](https://quarkus.io/guides/datasource)
- [Measuring the coverage of your tests](https://quarkus.pro/guides/tests-with-coverage.html)
- [Testing Quarkus Applications](https://www.baeldung.com/java-quarkus-testing)
- [Using Flyway](https://quarkus.io/guides/flyway)
- [Using Hibernate ORM and JPA](https://quarkus.io/guides/hibernate-orm)
- [Using Security with JPA](https://quarkus.io/guides/security-jpa)
- [Using the MongoDB Client](https://quarkus.io/guides/mongodb)
- [Using the REST Client](https://quarkus.io/guides/rest-client)

<!--
https://stackoverflow.com/questions/59170942/lazyinitializationexception-when-returning-json-in-rest-webservice-in-quarkus

https://stackoverflow.com/questions/62451487/quarkus-lazy-initialize
-->

## Data Access

- Hibernate ORM
- Panache (Simplified Hibernate ORM)
- Raw (JDBC query)

## References

- [Extensions Repository](https://github.com/quarkusio/quarkus/tree/main/extensions)
- [QuickStarts for Getting Started Guides](https://github.com/quarkusio/quarkus-quickstarts#quick-start-list)

## Extend

- [Eclipse Vert.x](/eclipse-vert.x.md)
- [Netty](/netty.md)
- [Picocli](https://quarkus.io/guides/picocli)
- [Quarkiverse Hub](https://github.com/quarkiverse)
- Apache Camel
- Eclipse MicroProfile
- Hibernate ORM (Panache)
- Jakarta RESTful Web Services (JAX-RS)
- Quarkus Funqy
- RESTEasy

## Frameworks

- Spring Boot
- Dropwizard
- Micronout
- Helidon

## Architecture

- HotSpot Just-In-Time (JIT)
- GraalVM Ahead-of-time (AOT)

## Glossary

- Contexts and Dependency Injection (CDI)

## Mindset

- Java first
- Container first
- K-Native
- Cloud-Native
- Microservice first
- Function as a Service (Serverless)
- Elastic
- Resilient
- Responsive
- Message-Driven

## Logging

- Apache Log4j 2
- JBoss log
- Logit
- Simple Logging Facade for Java (SLF4J)

<!--
## Plugins

resteasy-jsonb
hibernate-validator
rest-client
mongodb-panache
smallrye-openapi
container-image-s2i

assertj-core
-->

<!--
https://linkedin.com/learning/java-microservices-with-graalvm/running-java-faster-with-graalvm

https://www.amazon.com.br/Beginning-Quarkus-Framework-Cloud-Native-Microservices-ebook/dp/B08JGJDQ49/ref=asc_df_B08JGJDQ49/?tag=googleshopp00-20&linkCode=df0&hvadid=469812248540&hvpos=&hvnetw=g&hvrand=4368842893524740968&hvpone=&hvptwo=&hvqmt=&hvdev=c&hvdvcmdl=&hvlocint=&hvlocphy=1001541&hvtargid=pla-969767411212&psc=1

https://www.amazon.com.br/Quarkus-Cookbook-Kubernetes-Optimized-Solutions-English-ebook/dp/B08D364VMD/ref=asc_df_B08D364VMD/?tag=googleshopp00-20&linkCode=df0&hvadid=452574157606&hvpos=&hvnetw=g&hvrand=4368842893524740968&hvpone=&hvptwo=&hvqmt=&hvdev=c&hvdvcmdl=&hvlocint=&hvlocphy=1001541&hvtargid=pla-929436991334&psc=1

https://www.udemy.com/course/quarkus-backend-development-java/

https://www.udemy.com/course/des-web-quarkus-basico/

https://www.oreilly.com/live-training/courses/java-microservices-with-quarkus-and-microprofile/0636920378327/

https://github.com/quarkusio/quarkus/blob/master/docs/src/main/asciidoc/cli-tooling.adoc

-->

## CLI

### Dependencies

- [Apache Maven](/apache/apache_maven.md)

### Scaffold

```sh
# Root
PROJECT_GROUP_ID=org.acme.app \
PROJECT_ARTIFACT_ID=app \
PROJECT_VERSION=0.0.1-SNAPSHOT; \
  mvn archetype:generate -B \
    -DarchetypeGroupId=org.codehaus.mojo.archetypes \
    -DarchetypeArtifactId=pom-root \
    -DarchetypeVersion=RELEASE \
    -DgroupId="$PROJECT_GROUP_ID" \
    -DartifactId="$PROJECT_ARTIFACT_ID" \
    -Dversion="$PROJECT_VERSION"

#
cd ./"$PROJECT_ARTIFACT_ID"

# Module
QUARKUS_VERSION=1.13.4.Final \
PROJECT_GROUP_ID=org.acme.app \
PROJECT_ARTIFACT_ID=user \
PROJECT_VERSION=0.0.1-SNAPSHOT; \
  mvn io.quarkus:quarkus-maven-plugin:"$QUARKUS_VERSION":create \
    -DprojectGroupId="$PROJECT_GROUP_ID" \
    -DprojectArtifactId="$PROJECT_ARTIFACT_ID" \
    -DprojectVersion="$PROJECT_VERSION" \
    -DclassName="${PROJECT_GROUP_ID}.${PROJECT_ARTIFACT_ID}.MyResource"

#
mvn package -DskipTests
```

### Commands

```sh
mvn -h

mvn quarkus:help

mvn -Dplugin=io.quarkus:quarkus-maven-plugin help:describe
```

### Running

```sh
#
mvn quarkus:dev

#
mvn quarkus:test

#
mvn quarkus:prod
```

```sh
echo -e '[INFO]\thttp://127.0.0.1:8080'
echo -e '[INFO]\thttp://127.0.0.1:8080/q/dev/'
```

### Extensions

```sh
#
mvn quarkus:list-extensions
```

### Compile

```sh
#
mvn compile

#
mvn compile quarkus:dev

#
mvn clean compile quarkus:dev

#
mvn compile quarkus:dev -DdebugHost=0.0.0.0
```

### Package

```sh
#
mvn package

#
mvn package -Dquarkus.package.type=uber-jar

#
mvn package -Pnative

#
mvn package -Pnative -Dquarkus.native.container-build=true
```

### Profiles

```sh
# Development (Default)
mvn compile quarkus:dev

# Testing
mvn compile quarkus:dev -Dquarkus-profile=test

# Stating (Not exists)
mvn compile quarkus:dev -Dquarkus-profile=stage

# Production
mvn compile quarkus:dev -Dquarkus-profile=prod
```

### Properties

```sh
code ./src/main/resources/application.properties
```

**Build:** `%dev`, `%test` and `%prod`.

```ini
#
%dev.quarkus.log.level=DEBUG

#
%test.quarkus.log.level=DEBUG

#
%prod.quarkus.log.level=DEBUG
quarkus.log.level=DEBUG
```

### Misc

```sh
#
mvn clean -DskipTests package -Pnative
```

## Tips

### Running Jar

#### Debug Level

```sh
java \
  -Dquarkus.log.level=DEBUG \
  -jar ./target/quarkus-app/quarkus-run.jar
```

#### HTTP Port

```sh
java \
  -Dquarkus.http.port=8081 \
  -jar ./target/quarkus-app/quarkus-run.jar
```

### Debug Port

```sh
mvn quarkus:dev -Ddebug=5006
```

<!-- ###

```sh
docker build \
  -f ./src/main/docker/Dockerfile.jvm \
  -t quarkus/[project-name] \
  ./
``` -->

### Check JDWP Listen

```sh
netstat -an | grep 5005
```

### Develop Links

- [Development UI](http://localhost:8080/q/dev/)
- [ArC (CDI)](http://localhost:8080/q/arc)
  - http://localhost:8080/q/arc/beans
  - http://localhost:8080/q/arc/observers
  - http://localhost:8080/q/arc/removed-beans

### Visual Studio Code

```sh
#
code --install-extension redhat.vscode-quarkus

#
jq '."recommendations" += ["redhat.vscode-quarkus"]' "$PWD"/.vscode/extensions.json | sponge "$PWD"/.vscode/extensions.json
```

1. View -> Command Palette...
2. Quarkus: Debug current Quarkus project

### IntelliJ IDEA

#### Plugin Install

1. Preferences
2. Plugins
3. Marketplace Tab -> Quarkus Tools

#### Create Module

1. New -> Module...
2. Quarkus Tab -> Next

<!--
quarkus.datasource.{name}

@Datasource("{name}")
-->

<!-- ## Issues

###

```log
Caused by: org.postgresql.util.PSQLException: ERROR: column applicatio0_.keyid does not exist
  Hint: Perhaps you meant to reference the column "applicatio0_.keyId".
```

```sh
mvn quarkus:add-extension -Dextensions='hibernate-orm'
```

```
# quarkus.hibernate-orm.implicit-naming-strategy = org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl
# quarkus.hibernate-orm.implicit-naming-strategy = org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl
# quarkus.hibernate-orm.physical-naming-strategy = org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
``` -->
